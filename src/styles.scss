// Global Material Theme Configuration - HERE AND NOW AI Branding
@use '@angular/material' as mat;
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Roboto:wght@300;400;500;700&display=swap');

// Include the common styles for Angular Material
@include mat.core();

// HERE AND NOW AI Brand Colors - Primary: #FFDF00, Secondary: #004040
$primary-palette: (
  50: #fffdf0,
  100: #fffae0,
  200: #fff5c2,
  300: #ffed85,
  400: #ffdf00, // Main brand color
  500: #ffdf00,
  600: #e6c900,
  700: #ccb400,
  800: #b39f00,
  900: #998a00,
  A100: #ffff8a,
  A200: #ffff57,
  A400: #ffff00,
  A700: #e6e600,
  contrast: (
    50: rgba(black, 0.87),
    100: rgba(black, 0.87),
    200: rgba(black, 0.87),
    300: rgba(black, 0.87),
    400: rgba(black, 0.87),
    500: rgba(black, 0.87),
    600: rgba(black, 0.87),
    700: rgba(black, 0.87),
    800: white,
    900: white,
    A100: rgba(black, 0.87),
    A200: rgba(black, 0.87),
    A400: rgba(black, 0.87),
    A700: rgba(black, 0.87),
  )
);

$secondary-palette: (
  50: #e6f2f2,
  100: #ccebeb,
  200: #99d6d6,
  300: #66c2c2,
  400: #339999,
  500: #004040, // Secondary brand color
  600: #003333,
  700: #002626,
  800: #001a1a,
  900: #000d0d,
  A100: #4dffff,
  A200: #1affff,
  A400: #00e6e6,
  A700: #00cccc,
  contrast: (
    50: rgba(black, 0.87),
    100: rgba(black, 0.87),
    200: rgba(black, 0.87),
    300: rgba(black, 0.87),
    400: white,
    500: white,
    600: white,
    700: white,
    800: white,
    900: white,
    A100: rgba(black, 0.87),
    A200: rgba(black, 0.87),
    A400: rgba(black, 0.87),
    A700: rgba(black, 0.87),
  )
);

$warn-palette: (
  50: #ffebee,
  100: #ffcdd2,
  200: #ef9a9a,
  300: #e57373,
  400: #ef5350,
  500: #f44336,
  600: #e53935,
  700: #d32f2f,
  800: #c62828,
  900: #b71c1c,
  A100: #ff8a80,
  A200: #ff5252,
  A400: #ff1744,
  A700: #d50000,
  contrast: (
    50: rgba(black, 0.87),
    100: rgba(black, 0.87),
    200: rgba(black, 0.87),
    300: rgba(black, 0.87),
    400: rgba(black, 0.87),
    500: white,
    600: white,
    700: white,
    800: white,
    900: white,
    A100: rgba(black, 0.87),
    A200: white,
    A400: white,
    A700: white,
  )
);

// Create custom palettes with HERE AND NOW AI colors
$custom-primary: mat.m2-define-palette($primary-palette);
$custom-secondary: mat.m2-define-palette($secondary-palette);
$custom-warn: mat.m2-define-palette($warn-palette);

// Create the theme with HERE AND NOW AI branding
$custom-theme: mat.m2-define-light-theme((
  color: (
    primary: $custom-primary,
    accent: $custom-secondary,
    warn: $custom-warn,
  ),
  typography: mat.m2-define-typography-config(
    $font-family: '"Inter", "Roboto", -apple-system, BlinkMacSystemFont, "Segoe UI", system-ui, sans-serif',
    $headline-1: mat.m2-define-typography-level(96px, 96px, 300, $letter-spacing: -1.5px),
    $headline-2: mat.m2-define-typography-level(60px, 60px, 300, $letter-spacing: -0.5px),
    $headline-3: mat.m2-define-typography-level(48px, 48px, 400, $letter-spacing: 0px),
    $headline-4: mat.m2-define-typography-level(34px, 40px, 400, $letter-spacing: 0.25px),
    $headline-5: mat.m2-define-typography-level(24px, 32px, 400, $letter-spacing: 0px),
    $headline-6: mat.m2-define-typography-level(20px, 32px, 500, $letter-spacing: 0.15px),
    $subtitle-1: mat.m2-define-typography-level(16px, 28px, 400, $letter-spacing: 0.15px),
    $subtitle-2: mat.m2-define-typography-level(14px, 22px, 500, $letter-spacing: 0.1px),
    $body-1: mat.m2-define-typography-level(16px, 24px, 400, $letter-spacing: 0.5px),
    $body-2: mat.m2-define-typography-level(14px, 20px, 400, $letter-spacing: 0.25px),
    $caption: mat.m2-define-typography-level(12px, 20px, 400, $letter-spacing: 0.4px),
    $button: mat.m2-define-typography-level(14px, 36px, 500, $letter-spacing: 1.25px),
    $overline: mat.m2-define-typography-level(10px, 16px, 400, $letter-spacing: 1.5px),
  ),
  density: 0,
));

// Include theme styles for Angular Material components
@include mat.all-component-themes($custom-theme);

// Custom CSS Variables for HERE AND NOW AI Branding
:root {
  // HERE AND NOW AI Brand Colors
  --primary-color: #FFDF00;    // Bright Yellow
  --primary-light: #fff5c2;
  --primary-dark: #e6c900;
  --secondary-color: #004040;   // Dark Teal
  --secondary-light: #339999;
  --secondary-dark: #002626;
  --accent-color: #004040;      // Using secondary as accent
  --warn-color: #f44336;
  --success-color: #00897b;     // Teal for success
  --info-color: #00acc1;        // Cyan for info
  
  // Background colors with brand harmony
  --background-primary: #ffffff;
  --background-secondary: #fafafa;
  --background-accent: #fffdf0;  // Very light yellow tint
  --background-dark: #004040;    // Secondary brand color
  
  // Text colors optimized for brand colors
  --text-primary: #1a1a1a;      // Dark gray instead of pure black
  --text-secondary: #666666;
  --text-disabled: #999999;
  --text-hint: #999999;
  --text-on-primary: #1a1a1a;   // Dark text on yellow
  --text-on-secondary: #ffffff; // White text on dark teal
  
  // Border colors
  --border-light: rgba(0, 64, 64, 0.12);  // Subtle teal tint
  --border-medium: rgba(0, 64, 64, 0.24);
  --border-dark: rgba(0, 64, 64, 0.38);
  
  // Enhanced shadows with brand color hints
  --shadow-light: 0 2px 4px rgba(0, 64, 64, 0.08), 0 1px 2px rgba(0, 0, 0, 0.06);
  --shadow-medium: 0 4px 8px rgba(0, 64, 64, 0.12), 0 2px 4px rgba(0, 0, 0, 0.08);
  --shadow-heavy: 0 8px 16px rgba(0, 64, 64, 0.16), 0 4px 8px rgba(0, 0, 0, 0.12);
  
  // Improved spacing scale
  --spacing-xs: 0.25rem;   // 4px
  --spacing-sm: 0.5rem;    // 8px
  --spacing-md: 1rem;      // 16px
  --spacing-lg: 1.5rem;    // 24px
  --spacing-xl: 2rem;      // 32px
  --spacing-xxl: 3rem;     // 48px
  --spacing-xxxl: 4rem;    // 64px
  
  // Modern border radius scale
  --border-radius-xs: 2px;
  --border-radius-sm: 4px;
  --border-radius-md: 8px;
  --border-radius-lg: 12px;
  --border-radius-xl: 16px;
  --border-radius-xxl: 24px;
  
  // Typography scale
  --font-size-xs: 0.75rem;   // 12px
  --font-size-sm: 0.875rem;  // 14px
  --font-size-md: 1rem;      // 16px
  --font-size-lg: 1.125rem;  // 18px
  --font-size-xl: 1.25rem;   // 20px
  --font-size-xxl: 1.5rem;   // 24px
  
  // Font weights
  --font-weight-light: 300;
  --font-weight-normal: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 600;
  --font-weight-bold: 700;
}

// Global typography improvements
* {
  box-sizing: border-box;
}

html {
  font-size: 16px;
  line-height: 1.5;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

body {
  font-family: 'Inter', 'Roboto', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
  color: var(--text-primary);
  background-color: var(--background-primary);
  margin: 0;
  padding: 0;
}

// Enhanced Material Design overrides with HERE AND NOW AI branding
.mat-mdc-card {
  box-shadow: var(--shadow-light);
  border-radius: var(--border-radius-lg);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  border: 1px solid var(--border-light);
  
  &:hover {
    box-shadow: var(--shadow-medium);
    transform: translateY(-2px);
  }
}

.mat-mdc-button {
  text-transform: none !important; // Modern design doesn't use all caps
  font-weight: var(--font-weight-medium);
  letter-spacing: 0.25px;
  border-radius: var(--border-radius-md);
  font-family: 'Inter', sans-serif;
  transition: all 0.2s ease;
  
  &.mat-primary {
    background-color: var(--primary-color) !important;
    color: var(--text-on-primary) !important;
    
    &:hover {
      background-color: var(--primary-dark) !important;
      transform: translateY(-1px);
      box-shadow: var(--shadow-medium);
    }
  }
  
  &.mat-accent {
    background-color: var(--secondary-color) !important;
    color: var(--text-on-secondary) !important;
    
    &:hover {
      background-color: var(--secondary-dark) !important;
    }
  }
}

.mat-mdc-raised-button {
  box-shadow: var(--shadow-light);
  
  &:hover {
    box-shadow: var(--shadow-medium);
  }
  
  &:active {
    transform: translateY(1px);
  }
}

.mat-mdc-fab {
  box-shadow: var(--shadow-medium);
  
  &:hover {
    box-shadow: var(--shadow-heavy);
    transform: scale(1.05);
  }
  
  &.mat-primary {
    background-color: var(--primary-color) !important;
    color: var(--text-on-primary) !important;
  }
}

.mat-mdc-form-field {
  font-family: 'Inter', sans-serif;
  
  .mat-mdc-text-field-wrapper {
    border-radius: var(--border-radius-md);
  }
  
  &.mat-focused {
    .mdc-notched-outline__leading,
    .mdc-notched-outline__notch,
    .mdc-notched-outline__trailing {
      border-color: var(--primary-color) !important;
      border-width: 2px !important;
    }
  }
}

.mat-mdc-table {
  font-family: 'Inter', sans-serif;
  border-radius: var(--border-radius-lg);
  overflow: hidden;
  border: 1px solid var(--border-light);
  
  .mat-mdc-header-cell {
    background-color: var(--background-accent);
    color: var(--text-primary);
    font-weight: var(--font-weight-semibold);
    font-size: var(--font-size-sm);
    padding: var(--spacing-md);
  }
  
  .mat-mdc-cell {
    padding: var(--spacing-md);
    border-bottom: 1px solid var(--border-light);
  }
  
  .mat-mdc-row:hover {
    background-color: var(--background-accent);
    transition: background-color 0.2s ease;
  }
  
  .mat-mdc-row:last-child .mat-mdc-cell {
    border-bottom: none;
  }
}

.mat-mdc-snack-bar-container {
  border-radius: var(--border-radius-lg) !important;
  font-family: 'Inter', sans-serif;
  box-shadow: var(--shadow-heavy);
  
  &.mat-mdc-snack-bar-container-success {
    background-color: var(--success-color) !important;
  }
  
  &.mat-mdc-snack-bar-container-error {
    background-color: var(--warn-color) !important;
  }
}

.mat-mdc-dialog-container {
  border-radius: var(--border-radius-xl) !important;
  box-shadow: var(--shadow-heavy);
  font-family: 'Inter', sans-serif;
}

.mat-mdc-menu-panel {
  border-radius: var(--border-radius-lg) !important;
  box-shadow: var(--shadow-medium);
  border: 1px solid var(--border-light);
}

// Toolbar improvements
.mat-toolbar {
  font-family: 'Inter', sans-serif;
  
  &.mat-primary {
    background: linear-gradient(135deg, var(--secondary-color) 0%, var(--secondary-dark) 100%) !important;
    color: var(--text-on-secondary) !important;
  }
}

// Input improvements
.mat-mdc-input-element {
  font-family: 'Inter', sans-serif !important;
}

// Select improvements
.mat-mdc-select {
  font-family: 'Inter', sans-serif;
}

// Chip improvements
.mat-mdc-chip {
  border-radius: var(--border-radius-xl);
  font-family: 'Inter', sans-serif;
  font-size: var(--font-size-xs);
  font-weight: var(--font-weight-medium);
}

/* Dashboard-specific styles moved from component to reduce component css size */
.dashboard-container {
  
  .empty-state {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 64px 24px;
    text-align: center;

    mat-icon {
      font-size: 64px;
      width: 64px;
      height: 64px;
      color: #ccc;
      margin-bottom: 16px;
    }

    h3 {
      margin: 0 0 16px 0;
      color: #666;
      font-weight: 400;
    }

    p {
      margin: 0 0 24px 0;
      color: #999;
      max-width: 400px;
      line-height: 1.5;
    }

    button {
      mat-icon {
        margin-right: 8px;
      }
    }
  }

  .kpi-section {
    margin-bottom: 32px;

    .kpi-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 16px;

      .kpi-card {
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        transition: box-shadow 0.2s ease;

        &:hover {
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .kpi-content {
          display: flex;
          align-items: center;
          gap: 16px;
          padding: 8px 0;

          .kpi-icon {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background-color: #f5f5f5;

            mat-icon {
              font-size: 24px;
              width: 24px;
              height: 24px;
              color: #666;
            }
          }

          .kpi-info {
            flex: 1;

            .kpi-value {
              font-size: 1.8rem;
              font-weight: 600;
              color: #333;
              margin-bottom: 4px;
            }

            .kpi-label {
              font-size: 0.9rem;
              color: #666;
              text-transform: uppercase;
              letter-spacing: 0.5px;
            }
          }
        }

        &.total-card .kpi-icon {
          background-color: #e3f2fd;
          mat-icon { color: #1976d2; }
        }

        &.python-card .kpi-icon {
          background-color: #e8f5e8;
          mat-icon { color: #4caf50; }
        }

        &.angular-card .kpi-icon {
          background-color: #fde7e7;
          mat-icon { color: #f44336; }
        }

        &.javascript-card .kpi-icon {
          background-color: #fff8e1;
          mat-icon { color: #ff9800; }
        }
      }
    }
  }

  .charts-section {
    .chart-card {
      margin-bottom: 24px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);

      mat-card-header {
        margin-bottom: 16px;

        mat-card-title {
          font-size: 1.25rem;
          color: #333;
        }

        mat-card-subtitle {
          color: #666;
          margin-top: 4px;
        }
      }

      .skills-bar-chart {
        .skill-bar {
          display: flex;
          align-items: center;
          margin-bottom: 16px;
          gap: 16px;

          &:last-child {
            margin-bottom: 0;
          }

          .skill-info {
            display: flex;
            justify-content: space-between;
            min-width: 120px;
            font-size: 0.9rem;

            .skill-name {
              font-weight: 500;
              color: #333;
            }

            .skill-value {
              color: #666;
              font-weight: 600;
            }
          }

          .skill-progress {
            flex: 1;

            .progress-bar {
              height: 8px;
              background-color: #e0e0e0;
              border-radius: 4px;
              overflow: hidden;

              .progress-fill {
                height: 100%;
                background-color: #1976d2;
                border-radius: 4px;
                transition: width 0.3s ease;

                &[data-skill="python_skill"] { background-color: #3776ab; }
                &[data-skill="angular_skill"] { background-color: #dd0031; }
                &[data-skill="javascript_skill"] { background-color: #f7df1e; }
                &[data-skill="html_skill"] { background-color: #e34c26; }
                &[data-skill="css_skill"] { background-color: #1572b6; }
                &[data-skill="java_skill"] { background-color: #ed8b00; }
              }
            }
          }
        }
      }

      .skill-selector {
        margin-bottom: 24px;

        mat-form-field {
          width: 200px;
        }
      }

      .distribution-chart {
        .distribution-item {
          display: flex;
          align-items: center;
          margin-bottom: 12px;
          gap: 12px;

          &:last-child {
            margin-bottom: 0;
          }

          .distribution-color {
            width: 16px;
            height: 16px;
            border-radius: 50%;

            &.low-color { background-color: #ff6b6b; }
            &.medium-color { background-color: #feca57; }
            &.high-color { background-color: #48ca26; }
          }

          .distribution-info {
            display: flex;
            justify-content: space-between;
            flex: 1;
            align-items: center;

            .distribution-label {
              font-weight: 500;
              color: #333;
            }

            .distribution-value {
              color: #666;
              font-weight: 600;
            }
          }
        }
      }

      .skills-summary {
        .summary-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
          gap: 16px;

          .summary-item {
            padding: 16px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            background-color: #fafafa;

            .summary-header {
              display: flex;
              align-items: center;
              gap: 8px;
              margin-bottom: 12px;

              mat-icon {
                color: #666;
              }

              .summary-title {
                font-weight: 500;
                color: #333;
              }
            }

            .summary-stats {
              .stat {
                display: flex;
                justify-content: space-between;
                margin-bottom: 6px;
                font-size: 0.9rem;

                &:last-child {
                  margin-bottom: 0;
                }

                .stat-label {
                  color: #666;
                }

                .stat-value {
                  font-weight: 600;
                  color: #333;
                }
              }
            }
          }
        }
      }
    }
  }

  // Responsive design for dashboard
  @media (max-width: 768px) {
    .kpi-section {
      .kpi-grid {
        grid-template-columns: 1fr;
        gap: 12px;
      }
    }

    .charts-section {
      .chart-card {
        .skills-bar-chart {
          .skill-bar {
            flex-direction: column;
            align-items: stretch;
            gap: 8px;

            .skill-info {
              justify-content: space-between;
              min-width: unset;
            }
          }
        }

        .skills-summary {
          .summary-grid {
            grid-template-columns: 1fr;
            gap: 12px;
          }
        }
      }
    }
  }

  @media (max-width: 480px) {
    .kpi-section {
      margin-bottom: 24px;

      .kpi-grid {
        .kpi-card {
          .kpi-content {
            .kpi-info {
              .kpi-value {
                font-size: 1.5rem;
              }
            }
          }
        }
      }
    }

    .charts-section {
      .chart-card {
        margin-bottom: 16px;

        .skill-selector {
          mat-form-field {
            width: 100%;
          }
        }
      }
    }
  }
}

// Utility classes
.text-primary { color: var(--primary-color) !important; }
.text-accent { color: var(--accent-color) !important; }
.text-warn { color: var(--warn-color) !important; }
.text-success { color: var(--success-color) !important; }
.text-info { color: var(--info-color) !important; }
.text-muted { color: var(--text-secondary) !important; }

.bg-primary { background-color: var(--primary-color) !important; }
.bg-accent { background-color: var(--accent-color) !important; }
.bg-warn { background-color: var(--warn-color) !important; }
.bg-success { background-color: var(--success-color) !important; }
.bg-info { background-color: var(--info-color) !important; }

.shadow-light { box-shadow: var(--shadow-light) !important; }
.shadow-medium { box-shadow: var(--shadow-medium) !important; }
.shadow-heavy { box-shadow: var(--shadow-heavy) !important; }

.rounded-sm { border-radius: var(--border-radius-sm) !important; }
.rounded-md { border-radius: var(--border-radius-md) !important; }
.rounded-lg { border-radius: var(--border-radius-lg) !important; }
.rounded-xl { border-radius: var(--border-radius-xl) !important; }

// Responsive utilities
.d-none { display: none !important; }
.d-block { display: block !important; }
.d-flex { display: flex !important; }

@media (max-width: 768px) {
  .d-md-none { display: none !important; }
  .d-md-block { display: block !important; }
  .d-md-flex { display: flex !important; }
}

@media (max-width: 480px) {
  .d-sm-none { display: none !important; }
  .d-sm-block { display: block !important; }
  .d-sm-flex { display: flex !important; }
}

/* ==========================================================================
   Button Icon Improvements - Professional HERE AND NOW AI Styling
   ========================================================================== */

// Enhanced button styling for professional appearance
.mat-mdc-button,
.mat-mdc-raised-button,
.mat-mdc-icon-button {
  .mat-icon {
    font-size: 18px !important;
    width: 18px !important;
    height: 18px !important;
    line-height: 18px !important;
    margin-right: 8px;
    vertical-align: middle;
    
    // Remove margin for icon-only buttons
    .mat-mdc-icon-button & {
      margin-right: 0;
      font-size: 20px !important;
      width: 20px !important;
      height: 20px !important;
      line-height: 20px !important;
    }
  }
  
  // Better alignment for buttons with text and icons
  &:not(.mat-mdc-icon-button) {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    
    .mat-icon {
      margin-right: 0;
    }
  }
}

// Navigation button improvements
.nav-button {
  .mat-icon {
    font-size: 20px !important;
    width: 20px !important;
    height: 20px !important;
    line-height: 20px !important;
  }
}

// LinkedIn link styling
.linkedin-link {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  color: var(--color-secondary);
  text-decoration: none;
  font-weight: 500;
  
  &:hover {
    color: var(--color-primary);
    text-decoration: none;
  }
  
  .mat-icon {
    font-size: 16px !important;
    width: 16px !important;
    height: 16px !important;
    line-height: 16px !important;
    margin-right: 0;
  }
}

// Action buttons in tables
.actions-cell {
  .mat-mdc-icon-button {
    width: 36px;
    height: 36px;
    margin: 0 2px;
    
    .mat-icon {
      font-size: 18px !important;
      width: 18px !important;
      height: 18px !important;
      line-height: 18px !important;
    }
  }
}

// Ensure proper icon alignment
mat-icon {
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
}

// Material Icons font optimization
.material-icons {
  font-display: swap;
}
